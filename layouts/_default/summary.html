<article class="card dream-card">
  {{ if isset .Params "cover" }}
  <div class="card-image">
    <figure class="image">
      {{ if isset .Params "cover" }}
      <img src="{{ .Params.cover }}" alt="{{ .Title }}" />
      {{ else }}
      <img src="{{ "/img/" | relURL }}default{{ index (shuffle (seq 1 4)) 0 }}.jpg" alt="{{ .Title }}" />
      {{ end }}
    </figure>
  </div>
  {{ end }}

  {{ if isset .Params "cover" }}
  <div class="card-content">
  {{ else }}
  <div class="card-content no-cover">
  {{ end }}
    <a href="{{ .RelPermalink }}">
      <h2 class="title is-5 mb-2">
        {{ .Title }}
      </h2>
    </a>

    <div class="content has-text-grey">
      {{ .Summary | emojify | safeHTML }}
    </div>

    <div class="media">
      {{- if isset .Params "avatar" -}}
      <div class="media-left">
        <figure class="image is-32x32">
          <img src="{{ .Params.avatar }}" alt="avatar" />
        </figure>
      </div>
      {{- end -}}
      <div class="media-content">
        <div class="subtitle mb-1 subtitle-author">
        {{- if isset .Params "author" -}}
          {{- if isset .Params "authorlink" -}}
          <a href="{{ .Params.authorlink }}" target="_blank">{{ .Params.author }}</a>
          {{- else -}}
          {{ .Params.author }}
          {{- end -}}
        {{- else -}}
          {{ .Site.Params.author }}
        {{- end -}}
        </div>

        <div class="subtitle is-7">
          {{ partial "date.html" . }} Â· {{ .ReadingTime }}{{ i18n "minuteRead" .ReadingTime }}
        </div>
      </div>
    </div>
  </div>
</article>
